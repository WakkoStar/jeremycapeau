(this.webpackJsonpJeremyCapeauAPI=this.webpackJsonpJeremyCapeauAPI||[]).push([[0],{45:function(e,t,a){e.exports=a(77)},50:function(e,t,a){},72:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),u=(a(50),a(6)),o=a(16),l=a(1),s=a.n(l),m=a(2),p=a(3),d=a(42),f=a(4),v=a.n(f);v.a.defaults.withCredentials=!0;var E={"Content-Type":"application/json"},b=function(e,t){return v.a.post("/api/user/login",{email:e,password:t},{headers:E})},h=function(){return v.a.post("/api/user/auth",{},{headers:E})},g=function(){return v.a.post("/api/user/logout",{},{headers:E})},y=function(e){return v.a.post("/api/category/",{nom:e},{headers:E})},j=function(){return v.a.get("/api/category/")},w=function(e){return v.a.delete("/api/category/",{data:{id:e}},{headers:E})},k=function(e){return v.a.put("/api/category/",{category:e},{headers:E})},O=function(){return v.a.get("/api/images/",{headers:E})},x=function(e){return v.a.delete("/api/images/",{data:{id:e}},{headers:E})},_=function(){return v.a.get("/api/pdfs/")},C=function(e){return v.a.delete("/api/pdfs/",{data:{id:e}},{headers:E})},N=function(e){return v.a.post("/api/pdfs/",e,{"Content-Type":"multipart/form-data"})},S=function(e,t,a){return v.a.post("/api/gallery/",{category_id:e,img_id:t,index:a},{headers:E})},I=function(e){return v.a.put("/api/gallery/",{rubrique:e},{headers:E})},L=function(e,t){return v.a.delete("/api/gallery/",{data:{category_id:e,img_id:t}},{headers:E})},q=function(){return v.a.get("/api/gallery/")},A=function(){return v.a.get("/api/contact/")},M=function(e){return v.a.delete("/api/contact/",{data:{id:e}},{headers:E})},W=function(e){return v.a.post("/api/contact/",e,{"Content-Type":"multipart/form-data"})},F=function(e){return v.a.put("/api/contact/",e,{"Content-Type":"multipart/form-data"})},T=function(){return v.a.get("/api/apropos/")},z=function(e){return v.a.put("/api/apropos/",e,{"Content-Type":"multipart/form-data"})},D=function(e){var t=e.component,a=Object(d.a)(e,["component"]),c=Object(n.useState)("En chargement"),i=Object(p.a)(c,2),u=i[0],l=i[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h().then((function(e){e.data.auth&&l(e.data.auth.toString())})).catch((function(e){window.location="/user"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){return"En chargement"===u?r.a.createElement("p",null,u):"true"===u?r.a.createElement(t,null):void 0};return r.a.createElement(o.a,Object.assign({},a,{render:function(e){return r.a.createElement(v,null)}}))},P=(a(72),function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(void 0),o=Object(p.a)(i,2),l=o[0],d=o[1],f=Object(n.useState)({}),v=Object(p.a)(f,2),E=v[0],b=v[1],h=Object(n.useState)({from:"",to:""}),g=Object(p.a)(h,2),O=g[0],x=g[1];Object(n.useEffect)((function(){C()}),[]);var _=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=3;break}return alert("Il faut rentrer un nom de categorie"),e.abrupt("return");case 3:return e.next=5,y(l);case 5:C();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,c(t.data.categories);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:C(),b({});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===(n=O).from?(n.from=a,x(n)):""===n.to&&(n.to=a,x(n),k({from:O.from,to:O.to}).then((function(){x({from:"",to:""}),C()})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=3;break}return alert("Erreur de selection"),e.abrupt("return");case 3:if(""!==E.nom){e.next=6;break}return alert("Veuillez entre un nom"),e.abrupt("return");case 6:return e.next=8,k(E);case 8:C(),b({});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"body_dashboard"},r.a.createElement("div",{className:"main_dashboard"},a.map((function(e){var t="../../preview/"+e.preview_id;return r.a.createElement("div",{key:e._id,className:"category"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(t,")")}},r.a.createElement("div",{className:"select"},r.a.createElement(u.b,{to:"./rubrique/".concat(e._id)},r.a.createElement("img",{src:"../../images/add.png",alt:"Ajouter"})),r.a.createElement("div",{className:"tiers",onClick:function(){return b(e)}},r.a.createElement("img",{src:"../../images/pen.png",alt:"Modifier"})),r.a.createElement("div",{className:"tiers",onClick:function(){return N(e._id)}},r.a.createElement("img",{src:"../../images/bin.png",alt:"Supprimer"})),r.a.createElement("div",{className:"tiers",onClick:function(t){return S(t,e)}},r.a.createElement("img",{src:"../../images/move.png",alt:"Ajouter"})))),r.a.createElement("p",null,e.nom," ",e.visible?"(visible)":"(pas visible)"))}))),r.a.createElement("div",{className:"sidebar_dashboard"},r.a.createElement("div",null,r.a.createElement("h1",null,"Ajouter"),r.a.createElement("p",null,"Nom de la categorie"),r.a.createElement("input",{type:"text",onChange:function(e){return d(e.target.value)}}),r.a.createElement("button",{onClick:function(e){return _()}},"Ajouter")),r.a.createElement("div",{style:{display:E._id?"flex":"none"}},r.a.createElement("h1",null,"Modifier"),r.a.createElement("p",null,"Nom de la categorie"),r.a.createElement("input",{type:"text",value:E.nom,onChange:function(e){var t={_id:E._id,nom:e.target.value,visible:E.visible};b(t)}}),r.a.createElement("input",{type:"submit",value:E.visible,onClick:function(e){var t={_id:E._id,nom:E.nom,visible:"true"===e.target.value?"false":"true"};b(t)}}),r.a.createElement("button",{onClick:function(e){return I()}},"Modifier"))))}),J=a(5),B=a.n(J);v.a.defaults.withCredentials=!0;var H=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(0),u=Object(p.a)(i,2),o=u[0],l=u[1],d=Object(n.useState)([]),f=Object(p.a)(d,2),E=f[0],b=f[1],h=Object(n.useState)(),g=Object(p.a)(h,2),y=g[0],j=g[1],w=Object(n.useState)(0),k=Object(p.a)(w,2),_=k[0],C=k[1];Object(n.useEffect)((function(){N()}),[]);var N=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,c(t.data.images);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(E,y),N(),b([]),l(0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){var t={onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);C(t)}},a=new FormData;a.append("link",y);for(var n=0;n<e.length;n++)a.append("datas",e[n]);v.a.post("/api/images/",a,t).then((function(e){return C(0)})).catch((function(e){return alert("erreur...")}))},L=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:N();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){var t=e.img;return t.link.startsWith("http")?r.a.createElement("div",{key:t._id,className:"images"},r.a.createElement("img",{alt:t.picture_id,src:"../../preview/"+t.picture_id}),r.a.createElement("div",{className:"select"},r.a.createElement("img",{src:"../../images/bin.png",alt:"Supprimer",onClick:function(){return L(t._id)}}),r.a.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer"},"Lien vid\xe9o"))):r.a.createElement("div",{key:t._id,className:"images"},r.a.createElement("img",{alt:t.picture_id,src:"../../preview/"+t.picture_id}),r.a.createElement("div",{className:"select",onClick:function(){return L(t._id)}},r.a.createElement("img",{src:"../../images/bin.png",alt:"Supprimer"})))};return r.a.createElement("div",{className:"body_dashboard"},r.a.createElement("div",{className:"main_dashboard",id:"images"},a.map((function(e,t){return r.a.createElement(q,{key:e._id,img:e,index:t})}))),r.a.createElement("div",{className:"sidebar_dashboard"},r.a.createElement("div",null,r.a.createElement("h1",null,"Ajouter"),r.a.createElement("label",{htmlFor:"datas"},o," fichier(s) selectionn\xe9(s)"),r.a.createElement("input",{type:"file",id:"datas",name:"data",multiple:!0,required:!0,onChange:function(e){return function(e){var t=B()("#datas").get(0).files;l(t.length),b(e.target.files)}(e)}}),r.a.createElement("p",null,"Lien vid\xe9o"),r.a.createElement("input",{type:"text",name:"link",onChange:function(e){return j(e.target.value)}}),r.a.createElement("input",{type:"submit",value:_||"Confirmer",onClick:S}))))},V=a(18),G=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({}),u=Object(p.a)(i,2),o=u[0],l=u[1],d=Object(n.useState)({}),f=Object(p.a)(d,2),v=f[0],E=f[1],b=Object(n.useState)(void 0),h=Object(p.a)(b,2),g=h[0],y=h[1],j=Object(n.useState)(void 0),w=Object(p.a)(j,2),k=w[0],O=w[1];Object(n.useEffect)((function(){x()}),[]);var x=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,c(t.data.contacts);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("logo",g),t.append("link",v.link),t.append("name",v.nom),e.next=6,W(t);case 6:E({}),x();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("id",o.id),t.append("logo",k),t.append("link",o.link),t.append("nom",o.nom),e.next=7,F(t);case 7:l({}),x();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(o.id);case 2:l({}),x();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"body_dashboard"},r.a.createElement("div",{className:"main_dashboard"},a.map((function(e){var t="../../logos/"+e.picture_id;return r.a.createElement("div",{key:e._id,className:"contact",onClick:function(){return function(e){l({id:e._id,nom:e.nom,link:e.link_id})}(e)}},r.a.createElement("div",{style:{backgroundImage:"url(".concat(t,")")}},r.a.createElement("div",{className:"select"},r.a.createElement("img",{src:"../../images/pen.png",alt:"Modifier"}))),r.a.createElement("a",{href:e.link_id,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("p",null,e.nom)))}))),r.a.createElement("div",{className:"sidebar_dashboard"},r.a.createElement("div",null,r.a.createElement("h1",null,"Ajouter"),r.a.createElement("label",{htmlFor:"add_logo"},"Importer une image"),r.a.createElement("input",{type:"file",name:"logo",id:"add_logo",required:!0,onChange:function(e){return y(e.target.files[0])}}),r.a.createElement("p",null,"Nom du contact"),r.a.createElement("input",{type:"text",name:"name",required:!0,onChange:function(e){var t=e.target.value;E((function(e){return Object(V.a)({},e,{nom:t})}))}}),r.a.createElement("p",null,"Lien "),r.a.createElement("input",{type:"text",name:"link",onChange:function(e){var t=e.target.value;E((function(e){return Object(V.a)({},e,{link:t})}))}}),r.a.createElement("input",{type:"submit",value:"Importer",onClick:_})),r.a.createElement("div",{style:{display:o.id?"flex":"none"}},r.a.createElement("h1",null,"Modifier"),r.a.createElement("label",{htmlFor:"modify_logo"},"Modifier l'image"),r.a.createElement("input",{type:"file",name:"logo",id:"modify_logo",onChange:function(e){return O(e.target.files[0])}}),r.a.createElement("p",null,"Nom du contact"),r.a.createElement("input",{type:"text",value:o.nom,name:"nom",onChange:function(e){var t=e.target.value;l((function(e){return Object(V.a)({},e,{nom:t})}))},required:!0}),r.a.createElement("p",null,"Lien "),r.a.createElement("input",{type:"text",value:o.link,name:"link",onChange:function(e){var t=e.target.value;l((function(e){return Object(V.a)({},e,{link:t})}))}}),r.a.createElement("input",{type:"submit",value:"Modifier",onClick:C}),r.a.createElement("button",{onClick:function(){return N()}},"Supprimer"))))},U=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),u=Object(p.a)(i,2),o=u[0],l=u[1],d=Object(n.useState)(),f=Object(p.a)(d,2),v=f[0],E=f[1];Object(n.useEffect)((function(){b()}),[]);var b=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,c(t.data.pdfs);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:b();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("data",o),t.append("nom",v),e.next=5,N(t);case 5:b();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"body_dashboard"},r.a.createElement("div",{className:"main_dashboard"},a.map((function(e){var t="../../files/"+e.file_id;return r.a.createElement("div",{className:"pdfs",key:e._id},r.a.createElement("div",{style:{backgroundImage:"url(../../images/pdf.png)"}},r.a.createElement("div",{className:"select",onClick:function(){return h(e._id)}},r.a.createElement("img",{src:"../../images/bin.png",alt:"Supprimer"}))),r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},e.nom))}))),r.a.createElement("div",{className:"sidebar_dashboard"},r.a.createElement("div",null,r.a.createElement("h1",null,"Ajouter un fichier"),r.a.createElement("label",{htmlFor:"data"},"Importer un fichier"),r.a.createElement("input",{type:"file",id:"data",name:"data",required:!0,onChange:function(e){return l(e.target.files[0])}}),r.a.createElement("p",null,"Nom"),r.a.createElement("input",{type:"text",name:"nom",required:!0,onChange:function(e){return E(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Importer",onClick:g}))))},Y=function(){var e=Object(n.useState)({}),t=Object(p.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(void 0),u=Object(p.a)(i,2),o=u[0],l=u[1],d=Object(n.useState)(void 0),f=Object(p.a)(d,2),v=f[0],E=f[1];Object(n.useEffect)((function(){b()}),[]);var b=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,c(t.data.apropos),l(t.data.apropos.texte);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("picture_id",v),t.append("texte",o),e.next=5,z(t);case 5:E(),b();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g="../../biopic/"+a.picture_id;return r.a.createElement("div",{className:"body_dashboard"},r.a.createElement("div",{className:"main_dashboard apropos"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(g,")")}}),r.a.createElement("div",{className:"html",dangerouslySetInnerHTML:{__html:a.texte}})),r.a.createElement("div",{className:"sidebar_dashboard"},r.a.createElement("div",null,r.a.createElement("div",{className:"form"},r.a.createElement("h1",null,"Modifier"),r.a.createElement("label",{htmlFor:"data"},"Importer un fichier"),r.a.createElement("input",{type:"file",id:"data",name:"picture_id",onChange:function(e){return function(e){E(e.target.files[0])}(e)}}),r.a.createElement("p",null,"Texte"),r.a.createElement("textarea",{type:"text",required:!0,value:o,name:"texte",onChange:function(e){return l(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Modifier",onClick:h})))))},R=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),u=Object(p.a)(i,2),l=u[0],d=u[1],f=Object(n.useState)({from:"",to:""}),v=Object(p.a)(f,2),E=v[0],b=v[1],h=Object(n.useState)([]),g=Object(p.a)(h,2),y=g[0],j=g[1],w=Object(o.f)().id;Object(n.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return t=e.sent,a=t.data.gallery,n=a.filter((function(e){return e.category_id===w})),j(n),e.next=8,O();case 8:r=e.sent,c=r.data.images,d(c),x(n,c);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[w]);var x=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=0;r<t.length;r++)n[r]=t[r].img_id;i=a.filter((function(e){return!1===n.includes(e._id)})),c(i);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n,r,c,i,u,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,a=t.data.gallery.filter((function(e){return e.category_id===w})),n=0;case 5:if(!(n<y.length)){e.next=13;break}if(r=y[n],c=r._id,i=r.img_id,r.img_data,u=r.index,""!=c){e.next=10;break}return e.next=10,S(w,i,u);case 10:n++,e.next=5;break;case 13:o=s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==y.findIndex((function(e){return e.img_id===a[t].img_id}))){e.next=4;break}return e.next=4,L(w,a[t].img_id);case 4:case"end":return e.stop()}}),e)})),l=0;case 15:if(!(l<a.length)){e.next=20;break}return e.delegateYield(o(l),"t0",17);case 17:l++,e.next=15;break;case 20:window.location.reload();case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,a=t.data.gallery,n=a.filter((function(e){return e.category_id===w})),r=0;case 6:if(!(r<n.length)){e.next=13;break}if(n[r]._id===y[r]._id){e.next=10;break}return e.abrupt("return",!1);case 10:r++,e.next=6;break;case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),C||(alert("Nous enregistrons d'abord vos modfications"),_()),""===(n=E).from?(n.from=a,b(n)):""===n.to&&(n.to=a,b(n),I({from:E.from,to:E.to}).then(Object(m.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({from:"",to:""}),e.next=3,q();case 3:t=e.sent,a=t.data.gallery,n=a.filter((function(e){return e.category_id===w})),j(n);case 7:case"end":return e.stop()}}),e)})))).catch((function(){alert("Nous enregistrons d'abord vos modfications"),_()})));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={_id:w,preview_id:t.img_data},e.next=3,k(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=e.img;return r.a.createElement("div",null,r.a.createElement("img",{alt:t.picture_id,src:"../../preview/"+t.picture_id}),r.a.createElement("div",{onClick:function(){return function(e,t,a){var n=y;n.push({_id:"",img_id:e,img_data:t,category_id:w,index:a}),j(n),x(n,l)}(t._id,t.picture_id,t.index)}},r.a.createElement("img",{src:"../../images/add.png",alt:"Ajouter"})))},W=function(e){var t=e.rubrique;return r.a.createElement("div",null,r.a.createElement("img",{alt:t.img_data,src:"../../preview/"+t.img_data}),r.a.createElement("div",null,r.a.createElement("div",{onClick:function(e){return N(e,t)}},r.a.createElement("img",{src:"../../images/move.png",alt:"Deplacer"})),r.a.createElement("div",{onClick:function(){return A(t)}},r.a.createElement("img",{src:"../../images/upload.png",alt:"Preview"})),r.a.createElement("div",{onClick:function(){return function(e){var t=y.findIndex((function(t){return t.img_id===e})),a=y;-1!==t&&a.splice(t,1),x(a,l)}(t.img_id)}},r.a.createElement("img",{src:"../../images/bin.png",alt:"Supprimer"}))))};return r.a.createElement("div",{className:"rubrique"},r.a.createElement("div",{id:"submit",onClick:_},r.a.createElement("p",null,"Enregistrer")),r.a.createElement("div",{id:"modify"},r.a.createElement("h1",null,"Modifier"),y.map((function(e){return r.a.createElement(W,{key:e.img_id,rubrique:e})}))),r.a.createElement("div",{id:"add"},r.a.createElement("h1",null,"Ajouter"),a.map((function(e){return r.a.createElement(M,{key:e._id,img:e})}))))};function $(){Object(n.useEffect)((function(){e()}));var e=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h().then((function(e){e.data.auth&&console.log("Connect\xe9")})).catch((function(e){alert("Vous n'etes pas connect\xe9"),window.location="/user"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:window.location="/";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=Object(o.g)(),c=a.path,i=a.url;return r.a.createElement(u.a,null,r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{id:"nav-dashboard"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"http://jeremycapeau.fr"},"Le site")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"".concat(i,"/categories")},"Categories")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"".concat(i,"/images")},"Images")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"".concat(i,"/contact")},"Contact")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"".concat(i,"/fichiers")},"Fichiers")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"".concat(i,"/apropos")},"A propos")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://bulkresizephotos.com/fr",target:"_blank",rel:"noopener noreferrer"},"Compression")),r.a.createElement("li",null,r.a.createElement("button",{onClick:t},"DISCONNECT")))),r.a.createElement("div",{id:"content-dashboard"},r.a.createElement(o.a,{exact:!0,path:"".concat(c,"/categories")},r.a.createElement(P,null)),r.a.createElement(o.a,{exact:!0,path:"".concat(c,"/images")},r.a.createElement(H,null)),r.a.createElement(o.a,{exact:!0,path:"".concat(c,"/contact")},r.a.createElement(G,null)),r.a.createElement(o.a,{exact:!0,path:"".concat(c,"/fichiers")},r.a.createElement(U,null)),r.a.createElement(o.a,{exact:!0,path:"".concat(c,"/apropos")},r.a.createElement(Y,null)),r.a.createElement(o.a,{exact:!0,path:"".concat(c,"/rubrique/:id")},r.a.createElement(R,null)))))}var K=a(79),Q=a(37),X=a.n(Q),Z=(a(73),function(e){var t=Object(n.useState)(!0),a=Object(p.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(!1),l=Object(p.a)(o,2),s=l[0],m=l[1],d=Object(n.useState)(window.screen.availWidth<500),f=Object(p.a)(d,2),v=f[0],E=f[1];Object(n.useEffect)((function(){new X.a("Oswald",{weight:400}).load().then((function(){m(!0)}),(function(){m(!1)})),b()}),[v]),B()(window).on("resize",(function(){E(window.screen.availWidth<500),window.screen.availWidth<500?(i(!1),B()("nav").height("10vh"),B()("#links").css("visibility","hidden")):(i(!0),B()("nav").height("100vh"),B()("#links").css("visibility","visible"))})),B()("li,#home").on("click",(function(){window.screen.availWidth<500&&(B()("nav").height("10vh"),B()("#links").css("visibility","hidden"),B()("#menu").attr("src","../../images/burger.png"),i(!1))}));var b=function(){window.screen.availWidth<500&&(c?(B()("nav").height("10vh"),B()("#links").css("visibility","hidden"),B()("#menu").attr("src","../../images/burger.png")):(B()("nav").height("100vh"),B()("#links").css("visibility","visible"),B()("#menu").attr("src","../../images/cross.png")),i(!c))};return r.a.createElement("nav",null,r.a.createElement(K.a,{in:s,timeout:0,onEnter:function(){B()("#logo").css("opacity",1)}},r.a.createElement("div",{id:"logo"},r.a.createElement(u.b,{to:"./",id:"home"},v?r.a.createElement("h1",null,"JEREMY CAPEAU"):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{id:"jeremy"},"JEREMY "),r.a.createElement("h1",null,"CAPEAU")),r.a.createElement("p",null,"Vid\xe9aste - Photographe, France: 06.40.49.95.63")),r.a.createElement("img",{id:"menu",src:"../../images/burger.png",alt:"menu",onClick:b}))),r.a.createElement(K.a,{in:c,classNames:"fade",timeout:600,enter:!0,exit:!0},r.a.createElement("div",{id:"links"},r.a.createElement("h2",null,"Travail"),r.a.createElement("ul",null,e.cat.map((function(e){var t="/"+e.link;return!e.visible||r.a.createElement("li",{key:e._id},r.a.createElement(u.b,{to:t},e.nom))}))),r.a.createElement("h2",null,"En savoir plus"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.b,{to:"/brochures"},"Brochure(s)")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/a-propos"},"Bio")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/contact"},"Contact"))))))}),ee=a(12),te=(a(17),function(e){return r.a.createElement("div",{className:"main_rubriques"},e.cat.map((function(e,t){var a="../../preview/"+e.preview_id,n="/"+e.link;return!e.visible||r.a.createElement(u.b,{to:n,id:t},r.a.createElement(ee.LazyLoadImage,{src:a,effect:"opacity",afterLoad:function(){B()("#"+t).css("opacity","1")}}),r.a.createElement("p",null,e.nom))})))}),ae=(a(75),a(38)),ne=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),c=a[0],i=a[1],u=Object(n.useState)(window.screen.availWidth<500),o=Object(p.a)(u,2),l=o[0],d=o[1],f=e.categorie;Object(n.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,a=t.data.gallery,n=a.filter((function(e){return e.category_id===f._id})),i(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]),B()(window).on("resize",(function(){d(window.screen.availWidth<500)}));var v=function(e){var t=e.rubrique,a="../../images/"+t.img_data,n="../../preview/"+t.img_data;return r.a.createElement(ee.LazyLoadImage,{key:t._id,src:a,placeHoldersrc:n,effect:"opacity"})},E=function(e){var t=e.rubrique,a="../../images/"+t.img_data,n="../../preview/"+t.img_data;return r.a.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ee.LazyLoadImage,{key:t._id,src:a,placeHoldersrc:n,effect:"opacity"}),r.a.createElement("div",{className:"view-video"},r.a.createElement("p",null,"Visionner la vid\xe9o")))};return l?r.a.createElement("div",{className:"Gallery"},c.map((function(e){return e.link.startsWith("http")?r.a.createElement(E,{rubrique:e}):r.a.createElement(v,{rubrique:e})}))):r.a.createElement("div",{className:"Gallery"},r.a.createElement(ae.a,{reverseScroll:!0,style:{overflow:"scroll"}},r.a.createElement("span",null,r.a.createElement("div",{style:{width:"23vw",height:"100vh"}})),c.map((function(e){return e.link.startsWith("http")?r.a.createElement(E,{rubrique:e}):r.a.createElement(v,{rubrique:e})}))))},re=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,c(t.data.pdfs);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Tarifs"},r.a.createElement("p",null,"Grilles tarifaires et conditions (sujette \xe0 modification dans le temps et/ou selon les demandes des clients) :"),a.map((function(e){var t="../../files/"+e.file_id;return r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ee.LazyLoadImage,{src:"../../images/pdf.png",effect:"opacity"}),r.a.createElement("p",null,e.nom))})))},ce=function(){var e=Object(n.useState)({}),t=Object(p.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,c(t.data.apropos);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u="../../biopic/"+a.picture_id;return r.a.createElement("div",{className:"Apropos"},r.a.createElement(ee.LazyLoadImage,{src:u,effect:"opacity"}),r.a.createElement("div",{className:"html",dangerouslySetInnerHTML:{__html:a.texte}}))},ie=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,c(t.data.contacts);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Contact"},a.map((function(e){var t="../../logos/"+e.picture_id;return e.link_id.startsWith("http")||e.link_id.startsWith("mail")?r.a.createElement("a",{href:e.link_id,rel:"noopener noreferrer",target:"_blank"},r.a.createElement(ee.LazyLoadImage,{src:t,effect:"opacity"}),r.a.createElement("p",null,e.nom)):r.a.createElement("a",null,r.a.createElement(ee.LazyLoadImage,{src:t,effect:"opacity"}),r.a.createElement("p",null,e.nom))})))},ue=function(e){var t=e.cat;return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(te,{cat:t})),t.map((function(e){var t="/"+e.link;return r.a.createElement(o.a,{path:t,key:e._id},r.a.createElement(ne,{categorie:e}))})),r.a.createElement(o.a,{path:"/brochures"},r.a.createElement(re,null)),r.a.createElement(o.a,{path:"/a-propos"},r.a.createElement(ce,null)),r.a.createElement(o.a,{path:"/contact"},r.a.createElement(ie,null)))},oe=(a(76),function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,c(t.data.categories);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return document.oncontextmenu=function(e){if(console.log(e.button),2===e.button)return e.preventDefault(),!1},r.a.createElement("div",{className:"main_site"},r.a.createElement(Z,{cat:a}),r.a.createElement(ue,{cat:a}))}),le=a(19),se=a(39),me=a(40),pe=a(43),de=a(41),fe=function(e){Object(pe.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(se.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.send=Object(m.a)(s.a.mark((function t(){var a,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.email,r=a.password,n&&0!==n.length){t.next=3;break}return t.abrupt("return");case 3:if(r&&0!==r.length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,b(n,r);case 7:window.location="/dashboard";case 8:case"end":return t.stop()}}),t)}))),e.handleChange=function(t){e.setState(Object(le.a)({},t.target.id,t.target.value))},e}return Object(me.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"Login",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("h1",null,"Connexion"),r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",value:t,onChange:this.handleChange,id:"email"}),r.a.createElement("label",null,"Mot de passe"),r.a.createElement("input",{type:"password",value:a,onChange:this.handleChange,id:"password"}),r.a.createElement("input",{style:{marginTop:"2vw"},onClick:this.send,type:"submit",value:"Connexion"}))}}]),a}(r.a.Component);function ve(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/user",component:fe}),r.a.createElement(D,{component:$,path:"/dashboard"}),r.a.createElement(o.a,{exact:!0,path:"",component:oe}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.d5ae659c.chunk.js.map